<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="kr.co.itwillbs.solex.notice.NoticeMapper">	
	
	<!-- 공지사항 전체 목록 조회-->
	<select id="getNoticeList" resultType="map">
		SELECT n.not_id, n.emp_id, n.not_tt, not_reg_date, e.emp_nm, c.det_nm
		FROM NOTICE n JOIN EMP1 e ON n.emp_id = e.emp_id
		   			  JOIN code_detail c ON e.dep_id = c.det_id
		ORDER BY not_reg_date DESC
		OFFSET #{offset} ROWS FETCH NEXT #{size} ROWS ONLY
	</select>
	
	<!-- 공지사항 내용 조회 -->
	<select id="getNoticeDetail" resultType="map">
		SELECT n.not_id, n.emp_id, n.not_tt, n.not_con, e.emp_nm, not_reg_date, c.det_nm
		FROM NOTICE n JOIN EMP1 e ON n.emp_id = e.emp_id
		   			  JOIN code_detail c ON e.dep_id = c.det_id
		WHERE n.not_id = #{notId}
	</select>
	
  </mapper>