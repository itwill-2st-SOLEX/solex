<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.7.1.js"
            integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
            crossorigin="anonymous"></script>

  </head>
  <body>

<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
  사원등록
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body big-box">
     <th:block layout:fragment="content">
        <div class="modal-body big-box">
            <h3>모달창으로 해야해</h3>
            <div class="container">
                <h2>사원등록</h2>
                <form action="registration" name="joinForm" method="post">
                    <div class="section-box">
                        <div class="form-group">
                            <div class="flex-col">
                                <div class="photo-box"></div>
                                <input type="file">
                            </div>
                            <label>사번</label>
                            <input type="text" class="small" name="emp_num">
<!--                             오늘 날짜 이상은 안되도록...? -->
                            <label>입사일</label>
                            <input type="date" name="emp_hire">
<!--                         </div> -->

<!--                         <div class="form-group"> -->
<!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@    공코는 어케 넣는고지... -->
                            <label>부서</label>
                            <select>
                                <option>관리부</option>
                                <option>인사팀</option>
                                <option>개발팀</option>
                            </select>

                            <label>직급</label>
                            <select>
                                <option>사원</option>
                                <option>대리</option>
                                <option>과장</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>이름</label>
                        <input type="text" class="medium" name="emp_nm" id="emp_num"
                               pattern="^[가-힣]{2,4}$" title="한글2-4글자 사이" required>
                        <label>성별</label>
                    	<input type="radio" name="emp_gd" value="남" required>남
						<input type="radio" name="emp_gd" value="여" checked required>여
						
                    </div>

                    <div class="form-group">
                        <label>연락처</label>
                        <input type="text" class="small" pattern="\d{3}" title="숫자3자" id="emp_phone1" name="emp_phone1" required> -
                        <input type="text" class="small" pattern="\d{4}" title="숫자4자" id="emp_phone2" name="emp_phone2" required> -
                        <input type="text" class="small" pattern="\d{4}" title="숫자4자" id="emp_phone3" name="emp_phone3" required>

                        <label>이메일</label>
                        <input type="email" class="large" id="email" name="email1" required>@<input type="text" id="email2" name="email2" required>
                    </div>

                    <div class="form-group">
                        <input type="text" placeholder="우편번호" class="small" required="required">
                        <input type="button" value="주소검색" id="btnSearchAddress"> 
                    </div>

                    <div class="form-group">
                        <input type="text" placeholder="주소" class="large" id="emp_add" name="emp_add">
                        <input type="text" placeholder="상세주소" class="large" id="emp_da" name="emp_da">
                    </div>

                    <div class="btn-group">
                        <input type="submit" value="등록">
                        <input type="reset" value="초기화">
                        <input type="button" class="cancel" value="취소">
                    </div>
                </form>
            </div>
        </div>
    </th:block>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

	<script>
    // 테이블 hover시 무한스크롤 하시면 됩니다.
    $('#exampleModal').on('shown.bs.modal', function () {
      var $modalBody = $(this).find('.modal-body');
      
      $modalBody.on('scroll', function () {
        var scrollTop = $modalBody.scrollTop();
        var innerHeight = $modalBody.innerHeight();
        var scrollHeight = $modalBody[0].scrollHeight;

        // 스크롤이 바닥에 도달했는지 확인
        if (scrollTop + innerHeight >= scrollHeight) {
          $modalBody.append('<div class="big-box"><h1>Page</h1>asdf</div>');
        }
      });
    });
  </script>
    
  </body>
</html>