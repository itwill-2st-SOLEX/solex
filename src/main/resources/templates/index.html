<!DOCTYPE html>
<!-- 개별페이지에서 레이아웃을 상속받기 위해서는 layout:decorate 속성을 통해 상속받을 레이아웃 파일을 지정 -->
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">
<head>
	<title>SOLEX</title>
	

	<script src="https://uicdn.toast.com/tui.code-snippet/latest/tui-code-snippet.js"></script>
	<script src="https://uicdn.toast.com/tui.dom/v3.0.0/tui-dom.js"></script>

	<link rel="stylesheet" href="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.css">
	<link rel="stylesheet" href="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.css">
	<script src="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.min.js"></script>
	<script src="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.min.js"></script>
	<script src="https://uicdn.toast.com/tui.date-picker/latest/locale/ko.js"></script>

	<link rel="stylesheet" href="https://uicdn.toast.com/calendar/latest/toastui-calendar.min.css" />
	<script src="https://uicdn.toast.com/calendar/latest/toastui-calendar.min.js"></script>

	<script src="https://cdn.jsdelivr.net/npm/dayjs@1.10.7/dayjs.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/dayjs@1.10.7/plugin/weekday.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/dayjs@1.10.7/plugin/localeData.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/dayjs@1.10.7/plugin/timezone.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/dayjs@1.10.7/plugin/utc.js"></script>

	
	<link rel="stylesheet" th:href="@{/css/document/documentDrafts.css}" />
	<link rel="stylesheet" th:href="@{/css/main/style.css}" />

	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

	<script th:src="@{/js/notice/notice.js}"></script>
 	<script th:src="@{/js/main/calendar.js}"></script> 
	<script th:src="@{/js/main/panels.js}"></script>
	
	

</head>
<body>
	<!-- 레이아웃을 상속받아 특정 영역에 덮어쓸 프래그먼트 설정 -->
	<th:block layout:fragment="content">
		<div class="custom-body container-xxl flex-grow-1 container-p-y">
		<!-- 여기서 부터 작성하시면 됩니다  -->
			<!-- 본문 영역-->
			<div class="custom-content">
			    <!-- ───────── box2 : 달력 + (결재·즐겨찾기) ───────── -->
			    <div class="box2 d-flex gap-3">
			      <!-- 달력 -->
			      <section class="panel calendar flex-grow-1">
			        <header class="calendar-header">
			          <nav class="calendar-nav">
						<button id="prevMonthBtn" class="btn btn-link px-2">
					        <i class="menu-icon tf-icons bx bx-caret-left"></i>
					    </button>

					    <p id="monthLabel" class="m-0 mx-3 fw-bold">2025년&nbsp;6월</p>

					    <button id="nextMonthBtn" class="btn btn-link px-2">
					        <i class="menu-icon tf-icons bx bx-caret-right"></i>
					    </button>
					</nav>
						
					<div class="cate-legend ms-auto">   <!-- ← cate-color → cate-legend  -->
					  <div class="item company"><span></span>회사</div>
					  <div class="item team1"><span></span>팀</div>
					  <div class="item personal"><span></span>개인</div>
					</div>
			        </header>
			        <main id="calendar" class="calendar-area"><!-- Calendar 붙는 곳 --></main>
			        
			      </section>
			
			      <!-- 결재·즐겨찾기 세로 스택 -->
			      <div class="box2Side d-flex flex-column gap-3" style="width:28%;">
					<section class="panel favorites flex-fill">
			          <h5 class="panel-title">⭐ 즐겨찾기</h5>
			          <ul id="favoriteMenus" class="panel-list">
					    <!-- ERP 직원 전용 -->
						<!--<li th:if="${userType == 'ERP'}">
						        <a href="/SOLEX/vacation/detail">
						            <i class="menu-icon tf-icons bx bx-calendar me-1"></i>연차 현황
						        </a>
						    </li>
						    <li th:if="${userType == 'ERP'}">
						        <a href="/SOLEX/approval/drafts/new">
						            <i class="menu-icon tf-icons bx bx-file me-1"></i>기안서 작성
						        </a>
						    </li>
						    <li th:if="${userType == 'ERP'}">
						        <a href="/SOLEX/orders/new">
						            <i class="menu-icon tf-icons bx bx-briefcase me-1"></i>수주 등록
						        </a>
						    </li>

						     mes즐겨찾기 
						    <li th:if="${userType == 'MES'}">
						        <a href="/SOLEX/vacation/detail">
						            <i class="menu-icon tf-icons bx bx-calendar me-1"></i>연차 현황
						        </a>
						    </li>
						    <li th:if="${userType == 'MES'}">
						        <a href="/SOLEX/workOrders">
						            <i class="menu-icon tf-icons bx bx-slider me-1"></i>작업지시 조회
						        </a>
						    </li>
						    <li th:if="${userType == 'MES'}">
						        <a href="/SOLEX/production/progress">
						            <i class="menu-icon tf-icons bx bx-photo-album me-1"></i>생산 진행현황
						        </a>
						    </li>-->
						
					  </ul>
			        </section>
					
					<section class="panel notice flex-grow-1">
				        <h5 class="panel-title">📢 최근 공지</h5>
					  <span class="text-more mt-1">
					      <a th:href="@{/notice}" class="small">+ 더보기</a>
					  </span>
				        <ul id="noticeList" class="panel-list">

						</ul>
				      </section>
			        <section class="panel approval flex-grow-1">
			          <h5 class="panel-title">📝 결재 목록</h5>
			          <span class="text-more mt-1">
					      <a th:href="@{/approval/drafts}" class="small">+ 더보기</a>
					  </span>
			          <ul id="approvalList" class="panel-list">

			          </ul>
			        </section>
			
			        
			      </div>
			    </div><!-- /box2 -->
			
			  </div><!-- /custom-content -->
			</div><!-- /custom-body -->
			
			<!-- Modal -->
			<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="false">
			  <div class="modal-dialog modal-dialog-scrollable modal-lg">
			    <div class="modal-content">
			      <div class="modal-header">
			        <h5 class="modal-title" id="exampleModalLabel">공지사항</h5>
			        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			      </div>
				  <!-- 모달 내용 표시 -->
			      <div class="modal-body big-box" id="showModal"></div>
				  <!-- 모달 버튼 표시 -->
			      <div class="modal-footer" id="modalFooter"> </div>
			  </div>
			</div>
			</div>
			
			<!-- 상세 모달 -->
			<div class="modal fade" id="detailModal" tabindex="-1"
				aria-labelledby="detailModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-lg">
					<div class="modal-content">
						<div class="modal-header">
							<h2 class="modal-title" id="detailModalLabel">기안서 상세조회</h2>
						</div>
						<div class="approval-line">
							<table class="approval-table ms-auto">
								<thead>
									<tr></tr>
									<!-- JS가 여기에 <th>를 동적으로 추가함 -->
								</thead>
								<tbody>
									<tr></tr>
									<!-- JS가 여기에 <td>를 동적으로 추가함 -->
								</tbody>
							</table>
						</div>
						<!-- 					상세조회 js에서 채움 -->
						<div class="modal-body"></div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary"
								data-bs-dismiss="modal">닫기</button>
						</div>
					</div>
				</div>
			</div>
	</th:block>

	
</body>
</html>